
<!doctype html>
<html lang="pl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>UMOWA â€“ PW ARKON â€¢ umowa2.html</title>
<meta name="description" content="Edytowalny szablon umowy PW ARKON z komponentami (PC, piec, PV, ocieplenie, stolarka/dodatki), polami do wypeÅ‚nienia oraz auto-obliczeniami netto/VAT/brutto.">
<style>
  :root{
    --bg:#0b1020; --card:#0f1636; --ink:#e8edff; --muted:#aeb8da; --accent:#4cc9f0;
    --line:#263168; --ok:#2b8a57; --warn:#b37a1a; --bad:#a93a4b; --paper:#0e1433;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{margin:0;background:linear-gradient(180deg,#0a0f1e,#0c1230 60%,#0a0f1e);color:var(--ink);font:15px/1.5 system-ui,Segoe UI,Roboto,Arial}

  /* Nav + layout */
  nav{position:sticky;top:0;z-index:10;background:#10183b;border-bottom:1px solid #223065;padding:10px 14px;display:flex;gap:10px;flex-wrap:wrap}
  nav a{color:#cfe1ff;text-decoration:none;padding:6px 10px;border:1px solid #2a3a75;border-radius:999px}
  nav a:hover{background:#223160}
  .wrap{max-width:980px;margin:18px auto;padding:0 16px}
  .toolbar{display:flex;gap:8px;flex-wrap:wrap;margin:0 0 12px;align-items:center;justify-content:space-between}
  .btn{background:#233261;border:1px solid #3a4ca3;color:#fff;border-radius:10px;padding:8px 12px;cursor:pointer}
  .btn.ghost{background:transparent;border:1px dashed #3a4ca3}
  .btn.ok{background:#194d34;border-color:#2b8a57}
  .card{background:linear-gradient(180deg,#111a3e,#121f4a);border:1px solid #2b3a77;border-radius:14px;padding:16px}
  .doc{background:var(--paper);border:1px solid #2b3a77;border-radius:12px;padding:22px}

  /* Typografia i kolory */
  .muted{color:var(--muted)} .small{font-size:13px;color:var(--muted)}
  h1,h2,h3{margin:0 0 10px}
  h1{font-size:22px} h2{font-size:18px;margin-top:16px} h3{font-size:15px;margin-top:10px}

  /* Tabele */
  table{width:100%;border-collapse:separate;border-spacing:0}
  th,td{border:1px solid #31417f;padding:8px;vertical-align:top}
  th{background:#121e49;color:#cfe1ff;text-align:left;font-weight:600}
  tr:nth-child(even) td{background:#0f1a44}

  /* Pola do uzupeÅ‚nienia */
  .fill{
    display:inline-block; min-width:var(--w,20ch);
    border-bottom:1px solid #4a5bb6; padding:1px 2px; line-height:1.6;
  }
  [contenteditable="true"] .fill{outline-offset:2px}

  /* Wiersze, podpisy, ramki */
  .row{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
  .right{display:flex;gap:8px;justify-content:flex-end}
  .center{text-align:center}
  .signRow{display:flex;justify-content:space-between;gap:40px;margin-top:22px}
  .sign{width:44%;text-align:center}
  .box{border:1px dashed #3a4ca3;padding:10px;border-radius:10px;background:#0f1740}
  [contenteditable="true"]{outline:2px dashed #2b3a77;border-radius:6px;padding:4px}
  .pill{display:inline-block;background:#0d1530;border:1px dashed #2b3a77;border-radius:999px;padding:4px 8px;color:#aeb8da;font-size:12px}

  /* Kwota VAT przy polu VAT% */
  .vat-amt-out{ margin-left:.5rem; font-size:11px; opacity:.85 }

  /* Stopka do druku (Chrome/Edge) */
  .print-footer{
    position:fixed; left:0; right:0; bottom:0;
    font-size:12px; color:#777; padding:6px 12px;
    border-top:1px solid #ddd; background:#fff; display:none;
  }
  .print-footer .line{display:flex;justify-content:space-between;gap:12px}
  .print-footer .pnum::after{content:"Strona " counter(page) " / " counter(pages);}

  /* ===== Wydruk: skrÃ³cony i czytelny ===== */
  @page{ size:A4; margin:8mm; }
  @media print{
    /* ukryj UI */
    nav,.card.toolbar{display:none!important}

    /* biaÅ‚e tÅ‚o + czarna typografia */
    html,body{background:#fff!important}
    body{color:#000!important; font-size:11.5px; line-height:1.22}

    .wrap{max-width:none;margin:0 auto;padding:0}
    .doc{background:#fff!important;border:0!important;padding:0!important;color:#000!important}

    /* nagÅ‚Ã³wki ciaÅ›niej */
    h1{font-size:17px;margin:0 0 4px}
    h2{font-size:14px;margin:10px 0 4px}
    h3{font-size:12.5px;margin:6px 0 3px}
    .small{font-size:10.5px}

    /* listy ciaÅ›niej */
    ol,ul{margin:4px 0 6px 16px}

    /* tabele kompaktowe */
    table{border-collapse:collapse;border-spacing:0; page-break-inside:auto}
    th,td{border:1px solid #000!important;padding:3.5px 5px;color:#000!important;background:#fff!important}
    tr{page-break-inside:avoid;page-break-after:auto}

    /* .fill krÃ³tsze o ~35% w druku */
    .fill{
      border-bottom:1px solid #000!important;
      min-width:calc(var(--w, 20ch) * 0.65) !important;
      line-height:1.2;
    }

    /* ramki i podpisy ciaÅ›niej */
    .box{border-color:#000!important;background:#fff!important;padding:6px}
    .signRow{gap:18px;margin-top:12px}
    .sign{font-size:11.5px}

    /* linki neutralne */
    a{color:#000!important;text-decoration:none!important}

    /* pokaÅ¼ stopkÄ™ z numerem stron */
    .print-footer{display:block}
    .vat-amt-out{ color:#000!important }
  }
</style>
</head>
<body>
  <nav>
    <a href="index.html">â† Pulpit</a>
    <a href="klienci.html">Klienci</a>
    <a href="upload.html">PrzesyÅ‚ dokumentÃ³w</a>
  </nav>

  <div class="wrap">
    <div class="card toolbar">
      <div class="row">
        <button class="btn" onclick="window.print()">Drukuj / PDF</button>
        <button class="btn ok" id="btnToggleEdit">Zablokuj/odblokuj edycjÄ™</button>
        <button class="btn ghost" id="btnRecalc">Przelicz sumy</button>
        <span class="pill">Podstawianie z Klienci: <b id="mergeState">auto</b></span>
      </div>
      <div class="row small">
        Otworzono: <span id="now"></span> â€¢ URL param: <code>?clientId=â€¦</code>
      </div>
    </div>

    <!-- DOKUMENT -->
    <div id="doc" class="doc" contenteditable="true">
      <h1 class="center">UMOWA O WYKONANIE ROBÃ“T / DOSTAWÄ˜ I MONTAÅ»</h1>
      <p class="center small">
        Nr umowy: <span class="fill" data-bind="contract.no" style="--w:18ch"></span>
        â€¢ Data: <span class="fill" data-bind="contract.date" style="--w:16ch"></span>
        â€¢ Miejsce: <span class="fill" data-bind="city" style="--w:20ch"></span>
      </p>

      <h2>Â§1. Strony umowy</h2>
      <div class="box">
        <p><b>Wykonawca:</b> PW ARKON CzesÅ‚aw i Krystyna Sobaniak sp.j., ul. Fabryczna 12C, 59-170 PrzemkÃ³w, NIP: 5020038830, REGON: 020258190, e-mail: biuro@arkoncentrum.pl, tel. 511 514 818.</p>
        <p><b>ZamawiajÄ…cy (Klient):</b>
          <span class="fill" data-bind="client.name" style="--w:48ch"></span>,
          adres: <span class="fill" data-bind="client.address" style="--w:48ch"></span>,
          e-mail: <span class="fill" data-bind="client.email" style="--w:28ch"></span>,
          tel.: <span class="fill" data-bind="client.phone" style="--w:20ch"></span>.
        </p>
      </div>

      <h2>Â§2. Postanowienia ogÃ³lne</h2>
      <ol>
        <li>Umowa dotyczy wykonania i/lub dostawy oraz montaÅ¼u urzÄ…dzeÅ„ i materiaÅ‚Ã³w zgodnie z niniejszÄ… umowÄ… i zaÅ‚Ä…cznikami.</li>
        <li>Wykonawca oÅ›wiadcza, Å¼e posiada kwalifikacje, doÅ›wiadczenie oraz uprawnienia niezbÄ™dne do realizacji przedmiotu umowy, a czynnoÅ›ci bÄ™dÄ… wykonywane zgodnie z <i>sztukÄ… budowlanÄ…</i>, wÅ‚aÅ›ciwymi normami i przepisami prawa.</li>
        <li>IntegralnÄ… czÄ™Å›ciÄ… umowy sÄ…: <b>ZaÅ‚Ä…cznik nr 1 â€“ Specyfikacja/Oferta</b>, <b>ZaÅ‚Ä…cznik nr 2 â€“ ProtokÃ³Å‚ odbioru</b>, <b>ZaÅ‚Ä…cznik nr 3 â€“ OWU</b> (OgÃ³lne Warunki Umowy), <b>ZaÅ‚Ä…cznik nr 4 â€“ Karta gwarancyjna</b>, ewentualnie dokumentacja projektowa i schematy.</li>
      </ol>

      <h2>Â§3. Przedmiot umowy â€“ komponenty i parametry</h2>
      <p class="small">UzupeÅ‚nij pola podkreÅ›lone. Niepotrzebne wiersze moÅ¼esz skasowaÄ‡ (dokument jest edytowalny).</p>

      <!-- 3.1 Pompa ciepÅ‚a -->
      <h3>3.1. Pompa ciepÅ‚a</h3>
      <table aria-label="Pompa ciepÅ‚a" class="component">
        <tbody>
          <tr><th>Producent / Model</th><td><span class="fill" style="--w:40ch"></span></td></tr>
          <tr><th>Moc [kW]</th><td><span class="fill" style="--w:10ch"></span></td></tr>
          <tr><th>Jedn. zewnÄ™trzna / wewnÄ™trzna</th><td><span class="fill" style="--w:30ch"></span></td></tr>
          <tr><th>Bufor / ZawÃ³r 3D</th><td><span class="fill" style="--w:24ch"></span></td></tr>
          <tr><th>IloÅ›Ä‡ [szt.]</th><td><span class="fill" style="--w:10ch"></span></td></tr>
          <tr><th>Cena netto</th><td class="sum-netto"><span class="fill" style="--w:16ch"></span></td></tr>
          <tr><th>VAT</th><td class="sum-vat"><span class="fill" style="--w:8ch"></span></td></tr>
          <tr><th>Cena brutto</th><td class="sum-brutto"><span class="fill" style="--w:16ch"></span></td></tr>
        </tbody>
      </table>
      <p class="small">Dodatki PC: zasobnik c.w.u. <span class="fill" style="--w:10ch"></span> l, naczynie przeponowe <span class="fill" style="--w:8ch"></span> l, zawory odcinajÄ…ce <span class="fill" style="--w:10ch"></span>, izolacje <span class="fill" style="--w:10ch"></span>, uruchomienie serwisowe <span class="fill" style="--w:12ch"></span>.</p>

      <!-- 3.2 Piec / KocioÅ‚ -->
      <h3>3.2. Piec / KocioÅ‚</h3>
      <table aria-label="Piec / KocioÅ‚" class="component">
        <tbody>
          <tr><th>Typ (gaz/elek/staÅ‚e)</th><td><span class="fill" style="--w:28ch"></span></td></tr>
          <tr><th>Marka / Model</th><td><span class="fill" style="--w:40ch"></span></td></tr>
          <tr><th>Moc [kW]</th><td><span class="fill" style="--w:10ch"></span></td></tr>
          <tr><th>Klasa / SprawnoÅ›Ä‡</th><td><span class="fill" style="--w:24ch"></span></td></tr>
          <tr><th>Komplet armatury</th><td><span class="fill" style="--w:28ch"></span></td></tr>
          <tr><th>IloÅ›Ä‡</th><td><span class="fill" style="--w:8ch"></span></td></tr>
          <tr><th>Cena netto</th><td class="sum-netto"><span class="fill" style="--w:16ch"></span></td></tr>
          <tr><th>VAT</th><td class="sum-vat"><span class="fill" style="--w:8ch"></span></td></tr>
          <tr><th>Brutto</th><td class="sum-brutto"><span class="fill" style="--w:16ch"></span></td></tr>
        </tbody>
      </table>
      <p class="small">Dodatki kotÅ‚owni: pompa obiegowa <span class="fill" style="--w:12ch"></span>, pompa cyrkulacyjna <span class="fill" style="--w:12ch"></span>, zawÃ³r mieszajÄ…cy <span class="fill" style="--w:12ch"></span>, grupa bezpieczeÅ„stwa <span class="fill" style="--w:12ch"></span>, komin/spalinowy <span class="fill" style="--w:16ch"></span>.</p>

      <!-- 3.3 Fotowoltaika -->
      <h3>3.3. Fotowoltaika</h3>
      <table aria-label="Fotowoltaika" class="component">
        <tbody>
          <tr><th>ModuÅ‚y (producent / model)</th><td><span class="fill" style="--w:42ch"></span></td></tr>
          <tr><th>IloÅ›Ä‡ [szt.]</th><td><span class="fill" style="--w:10ch"></span></td></tr>
          <tr><th>Moc instalacji [kWp]</th><td><span class="fill" style="--w:16ch"></span></td></tr>
          <tr><th>Inwerter (model / moc)</th><td><span class="fill" style="--w:36ch"></span></td></tr>
          <tr><th>Konstrukcja montaÅ¼owa</th><td><span class="fill" style="--w:30ch"></span></td></tr>
          <tr><th>Zabezpieczenia AC/DC</th><td><span class="fill" style="--w:26ch"></span></td></tr>
          <tr><th>Cena netto</th><td class="sum-netto"><span class="fill" style="--w:16ch"></span></td></tr>
          <tr><th>VAT</th><td class="sum-vat"><span class="fill" style="--w:8ch"></span></td></tr>
          <tr><th>Brutto</th><td class="sum-brutto"><span class="fill" style="--w:16ch"></span></td></tr>
        </tbody>
      </table>
      <p class="small">Okablowanie DC <span class="fill" style="--w:8ch"></span> m, AC <span class="fill" style="--w:8ch"></span> m, uziemienie <span class="fill" style="--w:10ch"></span>, monitoring <span class="fill" style="--w:12ch"></span>, typ dachu/pokrycia <span class="fill" style="--w:28ch"></span>.</p>

      <!-- 3.4 Ocieplenie -->
      <h3>3.4. Ocieplenie</h3>
      <table aria-label="Ocieplenie" class="component">
        <tbody>
          <tr><th>MateriaÅ‚ (styropian/weÅ‚na/PUR)</th><td><span class="fill" style="--w:34ch"></span></td></tr>
          <tr><th>GruboÅ›Ä‡ [cm]</th><td><span class="fill" style="--w:10ch"></span></td></tr>
          <tr><th>Î»</th><td><span class="fill" style="--w:10ch"></span></td></tr>
          <tr><th>Powierzchnia [mÂ²]</th><td><span class="fill" style="--w:14ch"></span></td></tr>
          <tr><th>System/tynk</th><td><span class="fill" style="--w:24ch"></span></td></tr>
          <tr><th>ObrÃ³bki/Parapety</th><td><span class="fill" style="--w:24ch"></span></td></tr>
          <tr><th>Cena netto</th><td class="sum-netto"><span class="fill" style="--w:16ch"></span></td></tr>
          <tr><th>VAT</th><td class="sum-vat"><span class="fill" style="--w:8ch"></span></td></tr>
          <tr><th>Brutto</th><td class="sum-brutto"><span class="fill" style="--w:16ch"></span></td></tr>
        </tbody>
      </table>

      <!-- 3.5 Stolarka i elementy dodatkowe -->
      <h3>3.5. Stolarka i elementy dodatkowe</h3>
      <table aria-label="Stolarka i dodatki" class="component">
        <tbody id="group-grzejnik">
          <tr><th colspan="2">Grzejnik / typ</th></tr>
          <tr><th>Parametry</th><td><span class="fill" style="--w:36ch"></span></td></tr>
          <tr><th>IloÅ›Ä‡</th><td><span class="fill" style="--w:8ch"></span></td></tr>
          <tr><th>Cena netto</th><td class="sum-netto"><span class="fill" style="--w:16ch"></span></td></tr>
          <tr><th>VAT</th><td class="sum-vat"><span class="fill" style="--w:8ch"></span></td></tr>
          <tr><th>Brutto</th><td class="sum-brutto"><span class="fill" style="--w:16ch"></span></td></tr>
        </tbody>
        <tbody id="group-rozdzielacz">
          <tr><th colspan="2">Rozdzielacz / obiegi</th></tr>
          <tr><th>Parametry</th><td><span class="fill" style="--w:36ch"></span></td></tr>
          <tr><th>IloÅ›Ä‡</th><td><span class="fill" style="--w:8ch"></span></td></tr>
          <tr><th>Cena netto</th><td class="sum-netto"><span class="fill" style="--w:16ch"></span></td></tr>
          <tr><th>VAT</th><td class="sum-vat"><span class="fill" style="--w:8ch"></span></td></tr>
          <tr><th>Brutto</th><td class="sum-brutto"><span class="fill" style="--w:16ch"></span></td></tr>
        </tbody>
        <tbody id="group-rury">
          <tr><th colspan="2">Rury / prowadzenie</th></tr>
          <tr><th>Parametry</th><td><span class="fill" style="--w:36ch"></span></td></tr>
          <tr><th>IloÅ›Ä‡</th><td><span class="fill" style="--w:8ch"></span></td></tr>
          <tr><th>Cena netto</th><td class="sum-netto"><span class="fill" style="--w:16ch"></span></td></tr>
          <tr><th>VAT</th><td class="sum-vat"><span class="fill" style="--w:8ch"></span></td></tr>
          <tr><th>Brutto</th><td class="sum-brutto"><span class="fill" style="--w:16ch"></span></td></tr>
        </tbody>
        <tbody id="group-okna">
          <tr><th colspan="2">Okna</th></tr>
          <tr><th>Parametry</th><td><span class="fill" style="--w:36ch"></span></td></tr>
          <tr><th>IloÅ›Ä‡</th><td><span class="fill" style="--w:8ch"></span></td></tr>
          <tr><th>Cena netto</th><td class="sum-netto"><span class="fill" style="--w:16ch"></span></td></tr>
          <tr><th>VAT</th><td class="sum-vat"><span class="fill" style="--w:8ch"></span></td></tr>
          <tr><th>Brutto</th><td class="sum-brutto"><span class="fill" style="--w:16ch"></span></td></tr>
        </tbody>
        <tbody id="group-drzwi">
          <tr><th colspan="2">Drzwi</th></tr>
          <tr><th>Parametry</th><td><span class="fill" style="--w:36ch"></span></td></tr>
          <tr><th>IloÅ›Ä‡</th><td><span class="fill" style="--w:8ch"></span></td></tr>
          <tr><th>Cena netto</th><td class="sum-netto"><span class="fill" style="--w:16ch"></span></td></tr>
          <tr><th>VAT</th><td class="sum-vat"><span class="fill" style="--w:8ch"></span></td></tr>
          <tr><th>Brutto</th><td class="sum-brutto"><span class="fill" style="--w:16ch"></span></td></tr>
        </tbody>
        <tbody id="group-garaz">
          <tr><th colspan="2">Bramy garaÅ¼owe</th></tr>
          <tr><th>Parametry</th><td><span class="fill" style="--w:36ch"></span></td></tr>
          <tr><th>IloÅ›Ä‡</th><td><span class="fill" style="--w:8ch"></span></td></tr>
          <tr><th>Cena netto</th><td class="sum-netto"><span class="fill" style="--w:16ch"></span></td></tr>
          <tr><th>VAT</th><td class="sum-vat"><span class="fill" style="--w:8ch"></span></td></tr>
          <tr><th>Brutto</th><td class="sum-brutto"><span class="fill" style="--w:16ch"></span></td></tr>
        </tbody>
        <tbody id="group-rekuperacja">
          <tr><th colspan="2">Rekuperacja Å›cienna</th></tr>
          <tr><th>Parametry</th><td><span class="fill" style="--w:36ch"></span></td></tr>
          <tr><th>IloÅ›Ä‡</th><td><span class="fill" style="--w:8ch"></span></td></tr>
          <tr><th>Cena netto</th><td class="sum-netto"><span class="fill" style="--w:16ch"></span></td></tr>
          <tr><th>VAT</th><td class="sum-vat"><span class="fill" style="--w:8ch"></span></td></tr>
          <tr><th>Brutto</th><td class="sum-brutto"><span class="fill" style="--w:16ch"></span></td></tr>
        </tbody>
        <tbody id="group-klimatyzacja">
          <tr><th colspan="2">Klimatyzacja</th></tr>
          <tr><th>Parametry</th><td><span class="fill" style="--w:36ch"></span></td></tr>
          <tr><th>IloÅ›Ä‡</th><td><span class="fill" style="--w:8ch"></span></td></tr>
          <tr><th>Cena netto</th><td class="sum-netto"><span class="fill" style="--w:16ch"></span></td></tr>
          <tr><th>VAT</th><td class="sum-vat"><span class="fill" style="--w:8ch"></span></td></tr>
          <tr><th>Brutto</th><td class="sum-brutto"><span class="fill" style="--w:16ch"></span></td></tr>
        </tbody>
        <tbody id="group-inne">
          <tr><th colspan="2">Inne (audyt, demontaÅ¼, utylizacja)</th></tr>
          <tr><th>Parametry</th><td><span class="fill" style="--w:36ch"></span></td></tr>
          <tr><th>IloÅ›Ä‡</th><td><span class="fill" style="--w:8ch"></span></td></tr>
          <tr><th>Cena netto</th><td class="sum-netto"><span class="fill" style="--w:16ch"></span></td></tr>
          <tr><th>VAT</th><td class="sum-vat"><span class="fill" style="--w:8ch"></span></td></tr>
          <tr><th>Brutto</th><td class="sum-brutto"><span class="fill" style="--w:16ch"></span></td></tr>
        </tbody>
      </table>

      <h2>Â§4. Wynagrodzenie i warunki pÅ‚atnoÅ›ci</h2>
      <ol>
        <li>
          Wynagrodzenie Å‚Ä…czone za przedmiot umowy (netto):
          <b><span id="sumNet" class="fill" style="--w:24ch"></span></b> zÅ‚;
          kwota VAT Å‚Ä…cznie: <b><span id="sumVatAmt" class="fill" style="--w:16ch"></span></b> zÅ‚;
          stawka VAT (Å›rednia waÅ¼ona): <b><span id="sumVatPct" class="fill" style="--w:6ch"></span></b> %;
          wartoÅ›Ä‡ brutto: <b><span id="sumGross" class="fill" style="--w:24ch"></span></b> zÅ‚.
        </li>
        <li>Zaliczka: <span class="fill" style="--w:16ch"></span> zÅ‚, pÅ‚atna do dnia: <span class="fill" style="--w:14ch"></span>, na rachunek: <span class="fill" style="--w:36ch"></span>.</li>
        <li>Harmonogram pÅ‚atnoÅ›ci (jeÅ›li dotyczy): I etap <span class="fill" style="--w:8ch"></span>% do dnia <span class="fill" style="--w:12ch"></span>; II etap <span class="fill" style="--w:8ch"></span>% do dnia <span class="fill" style="--w:12ch"></span>; koÅ„cowa <span class="fill" style="--w:8ch"></span>% po odbiorze.</li>
        <li>JeÅ¼eli ZamawiajÄ…cy korzysta z dofinansowania (np. â€Czyste Powietrzeâ€), strony uzgadniajÄ…, Å¼e: <span class="fill" style="--w:68ch"></span></li>
        <li>W przypadku opÃ³Åºnienia w pÅ‚atnoÅ›ci Wykonawca moÅ¼e naliczyÄ‡ odsetki ustawowe za opÃ³Åºnienie oraz wstrzymaÄ‡ prace do czasu uregulowania naleÅ¼noÅ›ci.</li>
      </ol>

      <h2>Â§5. Terminy</h2>
      <ol>
        <li>RozpoczÄ™cie prac: <span class="fill" style="--w:18ch"></span>. ZakoÅ„czenie: <span class="fill" style="--w:18ch"></span>.</li>
        <li>Terminy mogÄ… ulec zmianie w przypadku: braku dostÄ™pu do frontu robÃ³t, nieprzewidzianych warunkÃ³w technicznych, siÅ‚y wyÅ¼szej, opÃ³ÅºnieÅ„ po stronie ZamawiajÄ…cego, opÃ³ÅºnieÅ„ dostaw niezawinionych przez WykonawcÄ™.</li>
      </ol>

      <h2>Â§6. OdbiÃ³r</h2>
      <ol>
        <li>Po zakoÅ„czeniu prac sporzÄ…dzony zostanie <b>ProtokÃ³Å‚ odbioru</b> (ZaÅ‚Ä…cznik nr 2). OdbiÃ³r obejmuje sprawdzenie kompletnoÅ›ci, zgodnoÅ›ci i uruchomienie (jeÅ›li dotyczy).</li>
        <li>Stwierdzone wady/usterki zostanÄ… usuniÄ™te w terminie uzgodnionym w protokole.</li>
      </ol>

      <h2>Â§7. Gwarancja i rÄ™kojmia</h2>
      <ol>
        <li>Wykonawca udziela gwarancji na montaÅ¼ na okres <span class="fill" style="--w:10ch"></span> miesiÄ™cy od daty odbioru. Gwarancja producenta na urzÄ…dzenia zgodnie z kartÄ… gwarancyjnÄ….</li>
        <li>Wady naleÅ¼y zgÅ‚aszaÄ‡ e-mailowo na adres: <b>biuro@arkoncentrum.pl</b> lub telefonicznie: <b>511 514 818</b>, opisujÄ…c objawy, datÄ™ i numer umowy.</li>
        <li>Wady usuwane bÄ™dÄ… w rozsÄ…dnym terminie, z uwzglÄ™dnieniem dostÄ™pnoÅ›ci czÄ™Å›ci. Gwarancja nie obejmuje: uszkodzeÅ„ mechanicznych, szkÃ³d z winy uÅ¼ytkownika, braku przeglÄ…dÃ³w i eksploatacji niezgodnej z instrukcjÄ…, przepiÄ™Ä‡, zalania, szkÃ³d losowych.</li>
        <li>Uprawnienia z gwarancji nie wyÅ‚Ä…czajÄ… uprawnieÅ„ z rÄ™kojmi przysÅ‚ugujÄ…cych konsumentowi na podstawie Kodeksu cywilnego.</li>
      </ol>

      <h2>Â§8. Reklamacje</h2>
      <p>Reklamacje ZamawiajÄ…cy skÅ‚ada na piÅ›mie lub e-mailem na adres Wykonawcy. Wykonawca potwierdzi przyjÄ™cie reklamacji i udzieli odpowiedzi w terminie <span class="fill" style="--w:8ch"></span> dni roboczych.</p>

      <h2>Â§9. Prawo odstÄ…pienia</h2>
      <ol>
        <li>JeÅ›li ZamawiajÄ…cy jest konsumentem i umowa zawarta zostaÅ‚a poza lokalem lub na odlegÅ‚oÅ›Ä‡, przysÅ‚uguje mu prawo odstÄ…pienia w terminie 14 dni zgodnie z ustawÄ… o prawach konsumenta.</li>
        <li>JeÅ¼eli na wyraÅºnÄ… proÅ›bÄ™ ZamawiajÄ…cego rozpoczÄ™to Å›wiadczenie przed upÅ‚ywem 14 dni, ZamawiajÄ…cy ponosi koszty wykonanych czynnoÅ›ci do chwili odstÄ…pienia.</li>
        <li>OÅ›wiadczenie o odstÄ…pieniu naleÅ¼y zÅ‚oÅ¼yÄ‡ w formie pisemnej na adres siedziby Wykonawcy lub e-mailem.</li>
      </ol>

      <h2>Â§10. ObowiÄ…zki ZamawiajÄ…cego</h2>
      <ol>
        <li>Zapewnienie dostÄ™pu do miejsca montaÅ¼u, zasilania elektrycznego, mediÃ³w oraz uzyskanie wymaganych zgÃ³d (w tym wspÃ³lnoty/spÃ³Å‚dzielni).</li>
        <li>Przygotowanie pomieszczeÅ„ i zabezpieczenie mienia; wskazanie miejsc prowadzenia tras i posadowienia urzÄ…dzeÅ„.</li>
      </ol>

      <h2>Â§11. Kary umowne</h2>
      <p>Za zwÅ‚okÄ™ z winy Wykonawcy w wykonaniu przedmiotu umowy kary wynoszÄ… <span class="fill" style="--w:8ch"></span>% wynagrodzenia brutto za kaÅ¼dy dzieÅ„ zwÅ‚oki, nie wiÄ™cej niÅ¼ <span class="fill" style="--w:8ch"></span>%. Analogiczne kary mogÄ… dotyczyÄ‡ zwÅ‚oki ZamawiajÄ…cego w zapewnieniu frontu robÃ³t/pÅ‚atnoÅ›ciach.</p>

      <h2>Â§12. SiÅ‚a wyÅ¼sza</h2>
      <p>Strony nie ponoszÄ… odpowiedzialnoÅ›ci za niewykonanie umowy w zakresie spowodowanym wystÄ…pieniem siÅ‚y wyÅ¼szej (w szczegÃ³lnoÅ›ci: klÄ™ski Å¼ywioÅ‚owe, wojna, epidemie, przerwy w dostawach, akty wÅ‚adzy publicznej). Terminy ulegajÄ… odpowiedniemu przedÅ‚uÅ¼eniu.</p>

      <h2>Â§13. Ochrona danych (RODO)</h2>
      <div class="small">
        Administratorem danych jest PW ARKON CzesÅ‚aw i Krystyna Sobaniak sp.j., ul. Fabryczna 12C, 59-170 PrzemkÃ³w, e-mail: biuro@arkoncentrum.pl, tel. 511 514 818.  
        Dane przetwarzane sÄ… w celu zawarcia i wykonania umowy (art. 6 ust. 1 lit. b RODO), wypeÅ‚nienia obowiÄ…zkÃ³w prawnych (lit. c) oraz prawnie uzasadnionych interesÃ³w administratora (lit. f), w szczegÃ³lnoÅ›ci dochodzenia roszczeÅ„ i obsÅ‚ugi reklamacji.  
        Dane mogÄ… byÄ‡ powierzone podmiotom Å›wiadczÄ…cym usÅ‚ugi na rzecz Administratora (np. serwis, transport, ksiÄ™gowoÅ›Ä‡, hosting).  
        Dane bÄ™dÄ… przechowywane przez okres obowiÄ…zywania umowy, a nastÄ™pnie do upÅ‚ywu terminÃ³w przedawnienia roszczeÅ„ oraz wynikajÄ…cych z przepisÃ³w podatkowych/rachunkowych.  
        Osobie, ktÃ³rej dane dotyczÄ…, przysÅ‚uguje prawo dostÄ™pu do danych, ich sprostowania, ograniczenia przetwarzania, przenoszenia danych, sprzeciwu, a w zakresie zgody â€“ prawo jej cofniÄ™cia. PrzysÅ‚uguje teÅ¼ prawo wniesienia skargi do Prezesa UODO.  
        Podanie danych jest dobrowolne, lecz niezbÄ™dne do zawarcia i realizacji umowy.
      </div>

      <h2>Â§14. Postanowienia koÅ„cowe</h2>
      <ol>
        <li>W sprawach nieuregulowanych stosuje siÄ™ przepisy Kodeksu cywilnego i wÅ‚aÅ›ciwe przepisy szczegÃ³lne.</li>
        <li>Zmiany umowy wymagajÄ… formy pisemnej pod rygorem niewaÅ¼noÅ›ci.</li>
        <li>Spory bÄ™dzie rozstrzygaÅ‚ sÄ…d powszechny wÅ‚aÅ›ciwy wedÅ‚ug przepisÃ³w â€“ dla konsumenta zgodnie z wÅ‚aÅ›ciwoÅ›ciÄ… ogÃ³lnÄ…; w pozostaÅ‚ych przypadkach sÄ…d wÅ‚aÅ›ciwy dla siedziby Wykonawcy.</li>
        <li>UmowÄ™ sporzÄ…dzono w <span class="fill" style="--w:8ch"></span> jednobrzmiÄ…cych egzemplarzach, po jednym dla kaÅ¼dej ze stron.</li>
      </ol>

      <div class="signRow">
        <div class="sign">
          ..................................................<br>
          <span class="small">Podpis ZamawiajÄ…cego</span>
        </div>
        <div class="sign">
          ..................................................<br>
          <span class="small">Podpis Wykonawcy â€“ PW ARKON</span>
        </div>
      </div>
    </div>

    <p class="small" style="margin-top:10px">
      PodpowiedÅº: wypeÅ‚nij pola podkreÅ›lone bezpoÅ›rednio w tekÅ›cie. JeÅ›li otworzysz z <code>klienci.html</code> (przycisk â€ğŸ“„ Umowa 2â€), pola <i>Klient</i>/<i>adres</i>/<i>e-mail</i>/<i>telefon</i> uzupeÅ‚niÄ… siÄ™ automatycznie z bazy.  
      UÅ¼yj przycisku â€Przelicz sumyâ€, aby wypeÅ‚niÄ‡ Â§4 na podstawie tabel z Â§3.
    </p>
  </div>

  <!-- Stopka drukowana -->
  <div class="print-footer" aria-hidden="true">
    <div class="line">
      <span>PW ARKON â€¢ Umowa</span>
      <span class="pnum"></span>
      <span id="printDate"></span>
    </div>
  </div>

<script>
(function(){
  // znacznik czasu
  const now = new Date();
  document.getElementById('now').textContent = now.toLocaleString('pl-PL');
  document.getElementById('printDate').textContent = now.toLocaleDateString('pl-PL');

  // przeÅ‚Ä…cznik edycji
  const doc = document.getElementById('doc');
  document.getElementById('btnToggleEdit').addEventListener('click', ()=>{
    const on = doc.getAttribute('contenteditable') === 'true';
    doc.setAttribute('contenteditable', on ? 'false' : 'true');
  });

  // parametry URL
  function params(){ try{ return Object.fromEntries(new URL(location.href).searchParams.entries()); }catch{ return {}; } }

  // klienci z localStorage
  function loadClients(){
    try{ return JSON.parse(localStorage.getItem('arkon_clients_v2')||'[]'); }catch{ return []; }
  }

  // wstawianie danych do pÃ³l data-bind
  function setDot(selector, value){
    document.querySelectorAll('[data-bind="'+selector+'"]').forEach(el=>{
      if(value && String(value).trim()){ el.textContent = String(value); }
    });
  }

  // merge z klientem
  const p = params();
  if(p.clientId){
    const clients = loadClients();
    const c = clients.find(x=>x.id===p.clientId);
    if(c){
      setDot('client.name',  c.name||'');
      setDot('client.address', c.address||'');
      setDot('client.email', c.email||'');
      setDot('client.phone', c.phone||'');
      if(p.no)   setDot('contract.no', p.no);
      if(p.date) setDot('contract.date', p.date);
      if(p.city) setDot('city', p.city);
      document.getElementById('mergeState').textContent = 'OK';
    }else{
      document.getElementById('mergeState').textContent = 'brak klienta';
    }
  }else{
    document.getElementById('mergeState').textContent = 'brak clientId';
  }

  /* ====== SUMOWANIE Â§3 â†’ Â§4 z VAT ====== */
  const fmt2 = new Intl.NumberFormat('pl-PL', {minimumFractionDigits:2, maximumFractionDigits:2});
  function parseMoney(s){
    if(!s) return NaN;
    s = String(s).replace(/\s/g,'').replace(/zÅ‚|PLN/ig,'');
    const lastComma = s.lastIndexOf(','), lastDot = s.lastIndexOf('.');
    if(lastComma>lastDot){ s = s.replace(/\./g,'').replace(',','.'); } else { s = s.replace(/,/g,''); }
    const n = parseFloat(s);
    return isFinite(n)? n : NaN;
  }
  function getText(el){ return (el?.textContent||'').trim(); }
  function setText(el, val){ if(el) el.textContent = val; }

  function ensureVatOut(el){
    if(!el) return null;
    const host = el.classList?.contains('fill') ? el.parentElement : el;
    if(!host) return null;
    let out = host.querySelector('.vat-amt-out');
    if(!out){
      out = document.createElement('span');
      out.className = 'vat-amt-out';
      host.appendChild(out);
    }
    return out;
  }

  function recalc(){
    const tables = document.querySelectorAll('table.component');
    let sumNet = 0, sumGross = 0, sumVatAmt = 0, vatBase = 0, vatAmount = 0;

    tables.forEach(tb=>{
      const nettoWrap  = tb.querySelector('.sum-netto .fill, .sum-netto');
      const vatWrap    = tb.querySelector('.sum-vat .fill, .sum-vat');
      const bruttoWrap = tb.querySelector('.sum-brutto .fill, .sum-brutto');

      if(!nettoWrap && !vatWrap && !bruttoWrap) return;

      let nettoEl  = nettoWrap?.classList?.contains('fill')  ? nettoWrap  : tb.querySelector('.sum-netto');
      let vatEl    = vatWrap?.classList?.contains('fill')    ? vatWrap    : tb.querySelector('.sum-vat');
      let bruttoEl = bruttoWrap?.classList?.contains('fill') ? bruttoWrap : tb.querySelector('.sum-brutto');

      let netto  = parseMoney(getText(nettoEl));
      let vatPct = parseMoney(getText(vatEl));
      let brutto = parseMoney(getText(bruttoEl));

      // wyprowadÅº brakujÄ…ce wartoÅ›ci
      if(isNaN(vatPct) && !isNaN(netto) && !isNaN(brutto) && netto>0){
        vatPct = (brutto/netto - 1) * 100;
        setText(vatEl, fmt2.format(vatPct));
      }
      if(isNaN(brutto) && !isNaN(netto) && !isNaN(vatPct)){
        brutto = netto * (1 + vatPct/100);
        setText(bruttoEl, fmt2.format(brutto));
      }
      if(isNaN(netto) && !isNaN(brutto) && !isNaN(vatPct) && vatPct!==0){
        netto = brutto / (1 + vatPct/100);
        setText(nettoEl, fmt2.format(netto));
      }

      // kwota VAT komponentu
      let vatAmt = NaN;
      if(!isNaN(netto) && !isNaN(vatPct)){ vatAmt = netto * (vatPct/100); }
      if(!isNaN(netto) && !isNaN(brutto)){ vatAmt = brutto - netto; }

      // pokaÅ¼ â€(kwota: X,XX zÅ‚)â€ przy polu VAT
      const vatOut = ensureVatOut(vatEl);
      if(vatOut && !isNaN(vatAmt) && vatAmt>=0){
        vatOut.textContent = ` (kwota: ${fmt2.format(vatAmt)} zÅ‚)`;
      }else if(vatOut){
        vatOut.textContent = '';
      }

      // sumowanie
      if(!isNaN(netto))  sumNet   += netto;
      if(!isNaN(brutto)) sumGross += brutto;
      if(!isNaN(vatAmt)) sumVatAmt += vatAmt;
      if(!isNaN(netto) && !isNaN(brutto)){
        vatBase   += netto;
        vatAmount += (brutto - netto);
      }
    });

    const vatPctWeighted = vatBase>0 ? (vatAmount/vatBase*100) : 0;

    // wpisy do Â§4
    setText(document.getElementById('sumNet'),    sumNet>0 ? fmt2.format(sumNet) : '');
    setText(document.getElementById('sumGross'),  sumGross>0 ? fmt2.format(sumGross) : '');
    setText(document.getElementById('sumVatAmt'), sumVatAmt>0 ? fmt2.format(sumVatAmt) : '');
    setText(document.getElementById('sumVatPct'), (isFinite(vatPctWeighted) && vatPctWeighted>0) ? fmt2.format(vatPctWeighted) : '');
  }

  document.getElementById('btnRecalc').addEventListener('click', recalc);
  let t; document.getElementById('doc').addEventListener('input', ()=>{ clearTimeout(t); t = setTimeout(recalc, 350); });
  recalc();
})();
</script>
</body>
</html>
